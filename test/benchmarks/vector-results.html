<html>
<head>
  <style type="text/css">
    .chart { width: 900px; height: 500px; }
  </style>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="vector-bench-data.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawCharts);

    function Options(title) {
      this.title = title;
      this.legend = { position: 'bottom' };
      this.colors = [ "#dc3912", "#3366cc" ];
      this.intervals = { 'style':'area' };
      this.interpolateNulls = false;
      this.hAxis = { logScale: true };
      this.vAxis = { logScale: true };
      this.series = {
        0: {
          pointShape: "triangle",
          pointSize: 9
        },
        1: {
          pointShape: "circle",
          pointSize: 6
        }
      };
    }

    function drawCharts() {
      drawChart(new Options("Append individual elements of same total size"), benchmarkData.Append);
      drawChart(new Options("Apply with random index 1000 times"), benchmarkData.ApplyRandom);
      drawChart(new Options("Apply sequentially 1000 times"), benchmarkData.ApplySequential);
      drawChart(new Options("Alternating append/prepend elements of same total size"), benchmarkData.Apprepend);
      drawChart(new Options("Build with Builder"), benchmarkData.Build);
      drawChart(new Options("AppendedAll non-Vector of same size (100 times)"), benchmarkData.BulkAppend100p);
      drawChart(new Options("AppendedAll non-Vector of 1/10 the size (100 times)"), benchmarkData.BulkAppend10p);
      drawChart(new Options("AppendedAll 2 elements (100 times)"), benchmarkData.BulkAppend2);
      drawChart(new Options("AppendedAll same Vector (100 times)"), benchmarkData.BulkAppendSame);
      drawChart(new Options("Iterate with foreach"), benchmarkData.Foreach);
      drawChart(new Options("Head (1000 times)"), benchmarkData.Head);
      drawChart(new Options("Iterate with Iterator"), benchmarkData.Iterator);
      drawChart(new Options("Map(identity)"), benchmarkData.MapIdentity);
      drawChart(new Options("Map to new value"), benchmarkData.MapNew);
      drawChart(new Options("Prepend individual elements of same total size"), benchmarkData.Prepend);
      drawChart(new Options("Tail (1000 times)"), benchmarkData.Tail);
      drawChart(new Options("Update with random index 1000 times"), benchmarkData.UpdateRandom);
      drawChart(new Options("Update sequentially 1000 times"), benchmarkData.UpdateSequential);
    }

    function drawChart(options, rows) {
      var data = new google.visualization.DataTable();
      data.addColumn('number', 'Size');
      data.addColumn('number', 'Old Vector');
      data.addColumn({id:'i0', type:'number', role:'interval'});
      data.addColumn({id:'i1', type:'number', role:'interval'});
      data.addColumn('number', 'New Vector');
      data.addColumn({id:'i2', type:'number', role:'interval'});
      data.addColumn({id:'i3', type:'number', role:'interval'});
      data.addRows(rows);
      var cont = document.getElementById("chart_container");
      var div = document.createElement("div");
      div.className = "chart";
      cont.appendChild(div);
      var chart = new google.visualization.LineChart(div);
      chart.draw(data, options);
    }
  </script>
</head>
<body id="chart_container">
</body>
</html>
